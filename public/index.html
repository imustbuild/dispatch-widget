<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Urgent Medical Care - Insurance Accepted | DispatchHealth</title>
    <style>
      body {
        -webkit-font-smoothing: antialiased;
        font-size: 1.8rem;
        font-family: "Open Sans", Arial, Helvetica, sans-serif;
        margin: 0;
      }
      * {
        box-sizing: border-box;
      }
      #app {
        width: 100%;
      }
      .Page {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }
      .Page-header-bar {
        display: flex;
        align-items: center;
        background: #fff;
        height: 100px;
        padding: 0 54px;
        box-shadow: 0 5px 20px 0 rgb(0 0 0 / 5%);
      }
      .Page-header-bar-logo {
        width: 230px;
      }
      .Page-header-navigation {
        flex-grow: 1;
      }
      .Page-content {
        display: flex;
        flex-direction: column;
        background: #f3f3f4;
        flex-grow: 1;
      }
      .Page-content-wrapper {
        flex-grow: 1;
        padding-left: calc(50% - 620px);
        padding-right: calc(50% - 620px);
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .Widget {
        width: 100%;
        max-width: 600px;
        margin: auto;
        text-align: center;
        padding: 1rem;
      }
      .Widget-step {
        margin: 1em 0;
      }
      .Widget-step-title {
        font-family: "Bree Serif", serif;
        margin-bottom: 1em;
      }
      .Widget-step-title span {
        display: inline-block;
      }
      .Widget-step-subtitle {
        font-family: "Bree Serif", serif;
        font-size: .75em;
        margin: .5em 0 0;
      }

      *[class^="Widget-button"] {
        width: 100%;
        border: 1px solid transparent;
        background: #0088D8;
        color: #fff;
        border-radius: 4px;
        padding: .5em 1em;
        font-weight: bold;
        font-size: .5em;
        line-height: 1.4;
        text-align: inherit;
      }
      .Widget-button--back svg {
        width: 24px;
        margin-right: .5em;
      }
      *[class^="Widget-button"] span {
        display: inline-block;
      }
      *[class^="Widget-button"]:disabled {
        background: #ccc;
        color: #555;
      }
      *[class^="Widget-button"]:not(:disabled):hover {
        background: #0058A8;
        cursor: pointer;
      }
      *[class$="--secondary"] {
        background: transparent;
        color: #0088D8;
      }
      *[class$="--secondary"]:not(:disabled):hover {
        background: transparent;
        color: #0088D8;
        text-decoration: underline;
        cursor: pointer;
      }
      *[class$="--back"] {
        display: flex;
        align-items: center;
        justify-content: center;
        width:  fit-content;
        margin: auto;
        background: transparent;
        color: orange;
      }
      *[class$="--back"]:not(:disabled):hover {
        background: transparent;
        color: orange;
        text-decoration: underline;
        cursor: pointer;
      }

      .Widget-search {
        margin-bottom: 1em;
      }

      .Widget-search-control {
        display: flex;
        align-items: center;
        border-bottom: 1px solid orange;
      }
      .Widget-search-icon {
        width: 20px;
        height: 20px;
        color: orange;
      }
      .Widget-search-input {
        flex-grow: 1;
        font-size: 16px;
        line-height: 2;
        padding: .5em 1em;
        border: none;
        background: transparent;
      }
      .Widget-search-results {
        position: relative;
        z-index: 100;
        text-align: left;
      }
      .Widget-search-submit {
        width: auto;
      }

      .Widget-suggestions {
        position: absolute;
        left: 0;
        right: 0;
        background: #f3f3f4;
      }
      *[class^="Widget-list"] {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      *[class$="--2col"] {
        columns: 100px 2;
        column-gap: 10px;
      }
      .Widget-list-item {
        margin: 0;
        padding: 0;
      }

      .Widget-reasons {
        position: relative;
      }
      .Widget-reasons-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: #f3f3f4;
        opacity: .9;
      }

      .Widget-schedule {
        display: grid;
        grid-template-columns: auto auto;
        grid-gap: 10px;
        margin-top: -.5em;
      }

      @media ( max-width: 767px ) {
        *[class$="--2col"] {
          columns: 100px 1;
        }
        .Widget-schedule {
          display: block;
        }
      }
    </style>
    <link href="//fonts.googleapis.com/css?family=Open Sans:300,400,700|Bree Serif:300,400,700&amp;display=swap" as="style" rel="stylesheet" onload="this.rel=&quot;stylesheet&quot;" crossorigin="anonymous">
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
  </head>
  <body>
    <div class="Page">
      <div class="Page-header-bar">
        <div class="Page-header-bar-logo">
          <a aria-label="home page" href="/">
            <img
              class="PageLogo-image"
              src="/assets/images/dh-logo-inline.svg"
              alt="DispatchHealth"
            />
          </a>
        </div>
        <div class="Page-header-navigation">
          <nav class="Navigation"></nav>
        </div>
      </div>
      <div class="Page-content">
        <div class="Page-content-wrapper">
          <div id="app">
            <section class="Widget" x-data="widget">
              <section class="Widget-step" x-show="step===1">
                <div class="Widget-step-title">
                  What can we help you <span>with today?</span>
                </div>
                <div class="Widget-search">
                  <div class="Widget-search-control">
                    <svg class="Widget-search-icon" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                      <path d="M13.846 8.462c0-1.483-.527-2.75-1.58-3.805-1.054-1.053-2.322-1.58-3.804-1.58-1.483 0-2.75.527-3.805 1.58-1.053 1.054-1.58 2.322-1.58 3.805 0 1.482.527 2.75 1.58 3.804 1.054 1.053 2.322 1.58 3.805 1.58 1.482 0 2.75-.527 3.804-1.58 1.053-1.054 1.58-2.322 1.58-3.804zm6.154 10c0 .416-.152.777-.457 1.08-.304.306-.665.458-1.08.458-.434 0-.795-.152-1.083-.457l-4.123-4.11c-1.434.993-3.033 1.49-4.795 1.49-1.146 0-2.242-.222-3.288-.667-1.045-.445-1.947-1.046-2.704-1.803-.757-.757-1.358-1.66-1.803-2.704C.222 10.702 0 9.606 0 8.46 0 7.316.222 6.22.667 5.174 1.112 4.13 1.713 3.227 2.47 2.47c.757-.757 1.66-1.358 2.704-1.803C6.22.222 7.316 0 8.462 0c1.145 0 2.24.222 3.287.667 1.044.445 1.946 1.046 2.703 1.803.757.757 1.358 1.66 1.803 2.704.445 1.046.667 2.142.667 3.288 0 1.762-.497 3.36-1.49 4.795l4.122 4.123c.297.296.445.657.445 1.082z" fill="currentColor" fill-rule="evenodd"/>
                    </svg>
                    <input class="Widget-search-input" type="text" placeholder="Search for a reason" x-model="input" @keyup.debounce.200ms="getSuggestions($event.target.value)" @keyup.enter="setReason($event.target.value)" @focus="$event.target.select()" />
                  </div>
                  <div class="Widget-search-results">
                    <div class="Widget-suggestions" x-show="suggestions.length > 0">
                      <ul class="Widget-list">
                        <template x-for="item in suggestions" :key="item.value">
                          <li class="Widget-list-item">
                            <template x-if="!item.other">
                              <button class="Widget-button" type="button" x-on:click="setReason(item.label,item.value)" x-text="item.label"></button>
                            </template>
                            <template x-if="item.other">
                              <button class="Widget-button" type="button" x-on:click="setReason(input,input)">
                                We didn't find a match, would you like to submit your reason?
                              </button>
                            </template>
                          </li>
                        </template>
                      </ul>
                    </div>
                  </div>
                </div>
                <div class="Widget-reasons">
                  <div class="Widget-step-subtitle">or choose a reason</div>
                  <ul class="Widget-list--2col">
                    <template x-for="item in reasons" :key="item.value">
                      <template x-if="item.primary">
                        <li class="Widget-list-item">
                          <button class="Widget-button" type="button" x-on:click="setReason(item.label,item.value)" x-text="item.label"></button>
                        </li>
                      </template>
                    </template>
                  </ul>
                  <button class="Widget-button--secondary" type="button" x-show="!more" x-on:click="more=!more">
                    More Reasons
                  </button>
                  <div x-show="more">
                    <!-- <div class="Widget-step-subtitle">More Reasons</div> -->
                    <ul class="Widget-list--2col">
                      <template x-for="item in reasons" :key="item.value">
                        <template x-if="!item.primary">
                          <li class="Widget-list-item">
                            <button class="Widget-button" type="button" x-on:click="setReason(item.label,item.value)" x-text="item.label"></button>
                          </li>
                        </template>
                      </template>
                    </ul>
                    <button class="Widget-button--secondary" type="button" x-on:click="more=!more">
                      Fewer Reasons
                    </button>
                  </div>
                  <div class="Widget-reasons-overlay" x-show="suggestions.length>0"></div>
                </div>
              </section>
              <section class="Widget-step" x-show="step===2">
                <div class="Widget-step-back">
                  <button class="Widget-button--back" type="button" x-on:click="step=1">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M7 16l-4-4m0 0l4-4m-4 4h18" />
                    </svg>
                    Back to Reasons
                  </button>
                </div>
                <div class="Widget-step-title">
                  When would you like <span>a visit?</span>
                </div>
                <div class="Widget-schedule">
                  <div class="Widget-schedule-day">
                    <div class="Widget-step-subtitle">Today (M/D)</div>
                    <ul class="Widget-list">
                      <li class="Widget-list-item">
                        <button class="Widget-button" type="button" x-on:click="setDate('Morning M/D')" disabled>Morning (9-11am)</button>
                      </li>
                      <li class="Widget-list-item">
                        <button class="Widget-button" type="button" x-on:click="setDate('Midday M/D')">Midday (12-2pm)</button>
                      </li>
                      <li class="Widget-list-item">
                        <button class="Widget-button" type="button" x-on:click="setDate('Afternoon M/D')">Afternoon (3-5pm)</button>
                      </li>
                      <li class="Widget-list-item">
                        <button class="Widget-button" type="button" x-on:click="setDate('Evening M/D')">Evening (5-11pm)</button>
                      </li>
                    </ul>
                  </div>
                  <div class="Widget-schedule-day">
                    <div class="Widget-step-subtitle">Tomorrow (M/D)</div>
                    <ul class="Widget-list">
                      <li class="Widget-list-item">
                        <button class="Widget-button" type="button" x-on:click="setDate('Morning M/D')">Morning (9-11am)</button>
                      </li>
                      <li class="Widget-list-item">
                        <button class="Widget-button" type="button" x-on:click="setDate('Midday M/D')">Midday (12-2pm)</button>
                      </li>
                      <li class="Widget-list-item">
                        <button class="Widget-button" type="button" x-on:click="setDate('Afternoon M/D')">Afternoon (3-5pm)</button>
                      </li>
                      <li class="Widget-list-item">
                        <button class="Widget-button" type="button" x-on:click="setDate('Evening M/D')">Evening (5-11pm)</button>
                      </li>
                    </ul>
                  </div>
                </div>
              </section>
            </section>
          </div>
        </div>
      </div>
    </div>
    <script>
      document.addEventListener('alpine:init', () => {
        Alpine.data('widget', () => ({
          step: 1,
          input: "",
          results: true,
          suggestions: [],
          more: false,
          reason: "",
          date: "",
          reasons: [
            {primary:false,value:"Acid reflux",label:"Acid reflux"},
            {primary:false,value:"Acne",label:"Acne"},
            {primary:false,value:"Allergic reaction",label:"Allergic reaction"},
            {primary:true,value:"Allergies",label:"Allergies"},
            {primary:false,value:"Animal bite",label:"Animal bite"},
            {primary:false,value:"Anxiety",label:"Anxiety"},
            {primary:false,value:"Asthma",label:"Asthma"},
            {primary:false,value:"Back pain",label:"Back pain"},
            {primary:false,value:"Canker sore",label:"Canker sore"},
            {primary:true,value:"Cold",label:"Cold"},
            {primary:false,value:"Coronavirus (COVID-19): education",label:"Coronavirus (COVID-19): education"},
            {primary:true,value:"Coronavirus (COVID-19): evaluation",label:"Coronavirus (COVID-19): evaluation"},
            {primary:true,value:"Cough",label:"Cough"},
            {primary:false,value:"Depression: evaluation",label:"Depression: evaluation"},
            {primary:false,value:"Depression: treatment",label:"Depression: treatment"},
            {primary:false,value:"Diabetes",label:"Diabetes"},
            {primary:false,value:"Diarrhea",label:"Diarrhea"},
            {primary:false,value:"Dizziness",label:"Dizziness"},
            {primary:false,value:"Earache",label:"Earache"},
            {primary:false,value:"Eczema",label:"Eczema"},
            {primary:false,value:"Erectile dysfunction",label:"Erectile dysfunction"},
            {primary:false,value:"Eye issue",label:"Eye issue"},
            {primary:false,value:"Fever",label:"Fever"},
            {primary:false,value:"General lab testing",label:"General lab testing"},
            {primary:false,value:"Gout",label:"Gout"},
            {primary:false,value:"Hair loss",label:"Hair loss"},
            {primary:false,value:"Headache",label:"Headache"},
            {primary:false,value:"High blood pressure",label:"High blood pressure"},
            {primary:false,value:"High cholesterol",label:"High cholesterol"},
            {primary:false,value:"HIV PrEP",label:"HIV PrEP"},
            {primary:true,value:"Influenza (flu)",label:"Influenza (flu)"},
            {primary:false,value:"Ingrown nail",label:"Ingrown nail"},
            {primary:false,value:"Insect bite or sting",label:"Insect bite or sting"},
            {primary:false,value:"Insomnia",label:"Insomnia"},
            {primary:false,value:"Muscle or joint injury",label:"Muscle or joint injury"},
            {primary:false,value:"Muscle or joint pain",label:"Muscle or joint pain"},
            {primary:false,value:"Nail fungus",label:"Nail fungus"},
            {primary:true,value:"Nasal congestion",label:"Nasal congestion"},
            {primary:false,value:"Neck pain",label:"Neck pain"},
            {primary:false,value:"Other injury",label:"Other injury"},
            {primary:false,value:"Other medication refill",label:"Other medication refill"},
            {primary:false,value:"Other reason",label:"Other reason"},
            {primary:false,value:"Other skin issue",label:"Other skin issue"},
            {primary:true,value:"Rash",label:"Rash"},
            {primary:false,value:"Refill for anxiety medication",label:"Refill for anxiety medication"},
            {primary:false,value:"Refill for depression medication",label:"Refill for depression medication"},
            {primary:false,value:"Refill for diabetes medication: IF HISTORICAL AND UNCHANGED",label:"Refill for diabetes medication: IF HISTORICAL AND UNCHANGED"},
            {primary:false,value:"Refill for high blood pressure med: IF HISTORICAL AND UNCHANGED",label:"Refill for high blood pressure med: IF HISTORICAL AND UNCHANGED"},
            {primary:false,value:"Shortness of breath",label:"Shortness of breath"},
            {primary:false,value:"Skin infection",label:"Skin infection"},
            {primary:false,value:"Smoking cessation",label:"Smoking cessation"},
            {primary:true,value:"Sore throat",label:"Sore throat"},
            {primary:false,value:"STD testing or treatment",label:"STD testing or treatment"},
            {primary:false,value:"Stomach pain",label:"Stomach pain"},
            {primary:false,value:"Thyroid issue",label:"Thyroid issue"},
            {primary:false,value:"Tooth pain",label:"Tooth pain"},
            {primary:false,value:"Travel advice",label:"Travel advice"},
            {primary:false,value:"Urinary tract infection (UTI) SIMPLE AND UNCOMPLICATED",label:"Urinary tract infection (UTI) SIMPLE AND UNCOMPLICATED"},
            {primary:false,value:"Vomiting",label:"Vomiting"},
            {primary:false,value:"Weight loss management",label:"Weight loss management"},
          ],
          getSuggestions: function(value){
            const match = value.trim();
            const input = this.input.trim();
            const reason = this.reason.trim()
            if ( input !== reason && input !== "") {
              const other = [{ other: true }];
              const suggestions = this.reasons.filter(obj => obj.label.toLowerCase().indexOf(match) > -1).slice(0,5);
              this.suggestions = suggestions.length > 0 ? suggestions : other;
              this.reason = "";
              console.log(`Getting suggestions for ${value}`);
            } else {
              this.suggestions = [];
            }
          },
          setReason: function(label,value){
            this.input = label;
            this.reason = value;
            this.suggestions = [];
            this.step = 2;
            console.log(`Setting the reason to ${value}`);
          },
          setDate: function(value){
            this.date = value;
            console.log(`Scheduling an appointment for ${this.reason} on ${value}`);
          },
        }));
      });
    </script>
  </body>
</html>
